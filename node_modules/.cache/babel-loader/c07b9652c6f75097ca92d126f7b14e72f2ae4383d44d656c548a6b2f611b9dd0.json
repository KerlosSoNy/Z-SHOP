{"ast":null,"code":"import _slicedToArray from\"C:/Zoniix/Projects/OnProgress/Z-SHOP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRecoilState}from\"recoil\";import{CartAtom,PaymentAtom,TotalProductsAtom}from\"../../Atoms/Products-Atom\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Cart(){var _useRecoilState=useRecoilState(CartAtom),_useRecoilState2=_slicedToArray(_useRecoilState,2),cart=_useRecoilState2[0],setCart=_useRecoilState2[1];var _useRecoilState3=useRecoilState(PaymentAtom),_useRecoilState4=_slicedToArray(_useRecoilState3,2),payment=_useRecoilState4[0],setPayment=_useRecoilState4[1];var _useRecoilState5=useRecoilState(TotalProductsAtom),_useRecoilState6=_slicedToArray(_useRecoilState5,2),TotalProducts=_useRecoilState6[0],setTotalProducts=_useRecoilState6[1];var addONe=function addONe(id,updateCart){var updatedArray=updateCart.map(function(element){if(element.product.id===id){setTotalProducts(TotalProducts+1);setPayment(payment+element.product.price);return{\"product\":element.product,\"count\":element.count+1};}else{return element;}});setCart(updatedArray);console.log(updatedArray);console.log(cart);};var minusOne=function minusOne(id,updateCart){var updatedArray=updateCart.map(function(element){if(element.product.id===id){if(element.count===1){return element;}else{setTotalProducts(TotalProducts-1);setPayment(payment-element.product.price);return{\"product\":element.product,\"count\":element.count-1};}}else{return element;}});setCart(updatedArray);console.log(updatedArray);console.log(cart);};return/*#__PURE__*/_jsx(\"div\",{className:\"lg:pt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-2xl py-4 sm:px-6 sm:py-6 lg:max-w-7xl lg:px-8 lg:mt-[3rem] mt-[2rem]\\r sm:grid sm:grid-cols-4 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sm:col-span-4\",children:cart.length>0?cart.map(function(element){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"lg:row-span-1 lg:grid-cols-4 lg:grid grid-rows-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-lg xl:aspect-h-8 xl:aspect-w-7 m-3 \",children:/*#__PURE__*/_jsx(Link,{to:\"/product/details/\".concat(element.product.id),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center pe-4 \",children:/*#__PURE__*/_jsx(\"img\",{src:element.product.image,alt:element.product.image,className:\"h-72 group-hover:opacity-75 rounded-lg object-left\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\" col-span-2 justify-items-start align-middle lg:mt-auto lg:mb-auto md:mt-auto  md:mb-auto\\r px-6 mt-2\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/product/details/\".concat(element.product.id),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold m-2\",children:element.product.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-2\",children:[element.product.description.slice(0,130),\"...\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"ms-2\",children:[\"$\",element.product.price]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return minusOne(element.product.id,cart);},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2\",children:element.count}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addONe(element.product.id,cart);},children:\"+\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\" justify-items-end align-end lg:mt-auto lg:mb-auto md:mt-auto  md:mb-auto\\r px-6 mt-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setCart(cart.filter(function(e){return e.product.id!==element.product.id;}));setPayment(payment-element.product.price);setTotalProducts(TotalProducts-1);},className:\"bg-red-600 p-1 rounded-md m-4  w-24 sm:w-36 lg:h-11 hover:scale-125 hover:duration-[0.8s] object-right-top text-white\",children:\"Remove\"})})]},element.product.id)});}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center align-middle h-full grid grid-flow-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\" text-2xl font-semibold mt-20 p-3\",children:\"No Products yet\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/All\",children:\"Back to Product\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-4\\r grid grid-flow-row align-middle justify-center justify-items-center text-center p-4 mt-10 w-full\",children:cart.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"p-2 text-lg font-semibold\",children:[\"total cost : $\",payment]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"p-5 text-lg font-semibold\",children:[\"total Count : \",TotalProducts,\" Products\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-600 w-24 h-10 rounded-xl text-white sm:w-36 mt-3\",children:\"Payment\"})]})})]})});}","map":{"version":3,"names":["useRecoilState","CartAtom","PaymentAtom","TotalProductsAtom","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Cart","_useRecoilState","_useRecoilState2","_slicedToArray","cart","setCart","_useRecoilState3","_useRecoilState4","payment","setPayment","_useRecoilState5","_useRecoilState6","TotalProducts","setTotalProducts","addONe","id","updateCart","updatedArray","map","element","product","price","count","console","log","minusOne","className","children","length","to","concat","src","image","alt","title","description","slice","onClick","filter","e"],"sources":["C:/Zoniix/Projects/OnProgress/Z-SHOP/src/Component/Categories/Cart.jsx"],"sourcesContent":["import { useRecoilState } from \"recoil\"\r\nimport { CartAtom,PaymentAtom,TotalProductsAtom } from \"../../Atoms/Products-Atom\"\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Cart(){\r\n    const [cart ,setCart] = useRecoilState(CartAtom)\r\n    const [payment ,setPayment] = useRecoilState(PaymentAtom)\r\n    let [TotalProducts , setTotalProducts] = useRecoilState(TotalProductsAtom)\r\n    const addONe = (id , updateCart)=>{\r\n        const updatedArray = updateCart.map((element)=>{\r\n            if( element.product.id === id) { \r\n                setTotalProducts(TotalProducts +1)\r\n                setPayment(payment+element.product.price)\r\n                return {\"product\":element.product , \"count\" : element.count+1}\r\n            }\r\n            else{\r\n                return element\r\n            } \r\n            })\r\n            setCart(updatedArray)\r\n            console.log(updatedArray)\r\n            console.log(cart)\r\n}\r\n    const minusOne = (id , updateCart)=>{\r\n        const updatedArray = updateCart.map((element)=>{\r\n            if( element.product.id === id) {\r\n                if(element.count === 1) { \r\n                    return element \r\n                }\r\n                else{\r\n                    setTotalProducts(TotalProducts -1)\r\n                    setPayment(payment-element.product.price)\r\n                    return {\"product\":element.product , \"count\" : element.count-1}\r\n                }\r\n            }\r\n            else{\r\n                return element\r\n            } \r\n            })\r\n            setCart(updatedArray)\r\n            console.log(updatedArray)\r\n            console.log(cart)\r\n}\r\n\r\n    return(\r\n        <div className=\"lg:pt-5\">\r\n        <div className=\"mx-auto max-w-2xl py-4 sm:px-6 sm:py-6 lg:max-w-7xl lg:px-8 lg:mt-[3rem] mt-[2rem]\r\n        sm:grid sm:grid-cols-4 \">\r\n            <div className=\"sm:col-span-4\">\r\n                { cart.length > 0 ?\r\n                cart.map((element)=>{\r\n                    return(\r\n                        <>\r\n                        <div className=\"lg:row-span-1 lg:grid-cols-4 lg:grid grid-rows-1\" key={element.product.id}>\r\n                            <div className=\"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-lg xl:aspect-h-8 xl:aspect-w-7 m-3 \">\r\n                                <Link to={`/product/details/${element.product.id}`}>\r\n                                <div className=\"flex justify-center pe-4 \">\r\n                                    <img\r\n                                    src={element.product.image}\r\n                                    alt={element.product.image}\r\n                                    className=\"h-72 group-hover:opacity-75 rounded-lg object-left\"\r\n                                    />\r\n                                </div>\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\" col-span-2 justify-items-start align-middle lg:mt-auto lg:mb-auto md:mt-auto  md:mb-auto\r\n                            px-6 mt-2\">\r\n                                <Link to={`/product/details/${element.product.id}`}>\r\n                                <h2 className=\"font-semibold m-2\">{element.product.title}</h2>\r\n                                <p className=\"m-2\">{element.product.description.slice(0,130)}...</p>\r\n                                <span className=\"ms-2\">${element.product.price}</span>\r\n                                <br/>\r\n                                </Link>\r\n                                <button onClick={()=> minusOne(element.product.id , cart) }>-</button>\r\n                                <span className=\"ms-2\">{element.count}</span>\r\n                                <button onClick={()=> addONe(element.product.id , cart) }>+</button>\r\n                            </div>\r\n                            <div className=\" justify-items-end align-end lg:mt-auto lg:mb-auto md:mt-auto  md:mb-auto\r\n                            px-6 mt-2\">\r\n                                <button onClick={()=>{\r\n                                    setCart(cart.filter((e)=> e.product.id !== element.product.id))\r\n                                    setPayment(payment - element.product.price)\r\n                                    setTotalProducts(TotalProducts -1)\r\n                                }}\r\n                                className=\"bg-red-600 p-1 rounded-md m-4  w-24 sm:w-36 lg:h-11 hover:scale-125 hover:duration-[0.8s] object-right-top text-white\">Remove</button>\r\n                            </div>\r\n                        </div>\r\n                    {/*  */}\r\n                        </>\r\n                    )\r\n                })\r\n                :\r\n                <div className=\"text-center align-middle h-full grid grid-flow-row\">\r\n                    <span className=\" text-2xl font-semibold mt-20 p-3\">No Products yet</span>\r\n                    <Link to='/product/All'>Back to Product</Link>\r\n                </div>}\r\n            </div>\r\n                <div className=\"col-span-4\r\n                grid grid-flow-row align-middle justify-center justify-items-center text-center p-4 mt-10 w-full\">\r\n                { cart.length > 0 &&\r\n                 <div>\r\n                <h1 className=\"p-2 text-lg font-semibold\">total cost : ${payment}</h1>\r\n                <h1 className=\"p-5 text-lg font-semibold\">total Count : {TotalProducts} Products</h1>\r\n                <button className=\"bg-green-600 w-24 h-10 rounded-xl text-white sm:w-36 mt-3\" >Payment</button>\r\n                </div>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}